{"version":3,"file":"chapter.early.js","sources":["../../src/apps/chapter.early/layout/invertColors.js","../../src/apps/chapter.early/main.js","../../src/apps/chapter.early/menus/offscreenMenus.js"],"sourcesContent":["function saveState(bool) {\r\n  const state = {\r\n    invertedColors: bool,\r\n  };\r\n\r\n  localStorage.setItem('colors-theme-state', JSON.stringify(state));\r\n}\r\n\r\nfunction getState() {\r\n  const state = JSON.parse(\r\n    localStorage.getItem('colors-theme-state'),\r\n  );\r\n\r\n  if (state && state.invertedColors) return state.invertedColors;\r\n  return false;\r\n}\r\n\r\nfunction setupInvertColorsToggle() {\r\n  const body = document.querySelector('body');\r\n\r\n  const toggle = document.querySelector('#invert-colors-toggle');\r\n\r\n  if (!toggle) return;\r\n\r\n  const setInverted = (bool) => {\r\n    if (bool === true) {\r\n      body.classList.add('invert-colors');\r\n    } else {\r\n      body.classList.remove('invert-colors');\r\n    }\r\n\r\n    saveState(bool);\r\n  };\r\n\r\n  const invertedColors = getState();\r\n  setInverted(invertedColors);\r\n  if (invertedColors === true) toggle.checked = true;\r\n\r\n  toggle.addEventListener('change', () => {\r\n    if (toggle.checked) setInverted(true);\r\n    else setInverted(false);\r\n  });\r\n}\r\n\r\nexport { setupInvertColorsToggle };\r\n","import { setupInvertColorsToggle } from './layout/invertColors.js';\nimport { setupOffscreenMenus } from './menus/offscreenMenus.js';\n\nfunction setupChapterEarly() {\n  setupInvertColorsToggle();\n  document.body.classList.remove('loading-page');\n  setupOffscreenMenus();\n}\n\nexport { setupChapterEarly };\n","// toggle open/closed for offscreen menus\r\nfunction setupOffscreenMenus() {\r\n  const wrapper = document.querySelector('.wrapper');\r\n  const leftMenuToggle = document.querySelector('#left-menu-toggle');\r\n  const rightMenuToggle = document.querySelector(\r\n    '#right-menu-toggle',\r\n  );\r\n  const leftMenu = document.querySelector('.left-menu');\r\n  const rightMenu = document.querySelector('.right-menu');\r\n\r\n  if (!leftMenu) {\r\n    leftMenuToggle.labels[0].classList.add('hide');\r\n  }\r\n\r\n  function enableLeftMenu(bool) {\r\n    if (!leftMenu) return;\r\n\r\n    if (bool === true) {\r\n      leftMenuToggle.checked = true;\r\n      enableRightMenu(false);\r\n      leftMenu.classList.add('show');\r\n      wrapper.classList.add('fade');\r\n    } else {\r\n      leftMenuToggle.checked = false;\r\n      leftMenu.classList.remove('show');\r\n      wrapper.classList.remove('fade');\r\n    }\r\n  }\r\n\r\n  function enableRightMenu(bool) {\r\n    if (bool === true) {\r\n      rightMenuToggle.checked = true;\r\n      enableLeftMenu(false);\r\n      rightMenu.classList.add('show');\r\n      wrapper.classList.add('fade');\r\n    } else {\r\n      rightMenuToggle.checked = false;\r\n      rightMenu.classList.remove('show');\r\n      wrapper.classList.remove('fade');\r\n    }\r\n  }\r\n\r\n  leftMenuToggle.addEventListener('click', () => {\r\n    enableLeftMenu(leftMenuToggle.checked);\r\n  });\r\n\r\n  rightMenuToggle.addEventListener('click', () => {\r\n    enableRightMenu(rightMenuToggle.checked);\r\n  });\r\n\r\n  wrapper.addEventListener('click', () => {\r\n    enableLeftMenu(false);\r\n    enableRightMenu(false);\r\n  });\r\n}\r\n\r\nexport { setupOffscreenMenus };\r\n"],"names":["setupInvertColorsToggle","body","document","querySelector","toggle","state","setInverted","bool","classList","add","remove","invertedColors","localStorage","setItem","JSON","stringify","saveState","parse","getItem","checked","addEventListener","setupChapterEarly","wrapper","leftMenuToggle","rightMenuToggle","leftMenu","rightMenu","enableLeftMenu","enableRightMenu","labels","setupOffscreenMenus"],"mappings":"AAiBA,SAASA,QACDC,EAAOC,SAASC,cAAc,QAE9BC,EAASF,SAASC,cAAc,4BAEjCC,OAbCC,EAeAC,EAAc,SAACC,IACN,IAATA,EACFN,EAAKO,UAAUC,IAAI,iBAEnBR,EAAKO,UAAUE,OAAO,iBA5B5B,SAAmBH,OACXF,EAAQ,CACZM,eAAgBJ,GAGlBK,aAAaC,QAAQ,qBAAsBC,KAAKC,UAAUV,IA0BxDW,CAAUT,IAGNI,MAzBAN,EAAQS,KAAKG,MACjBL,aAAaM,QAAQ,0BAGVb,EAAMM,iBAAuBN,EAAMM,eAsBhDL,EAAYK,IACW,IAAnBA,IAAyBP,EAAOe,SAAU,GAE9Cf,EAAOgB,iBAAiB,UAAU,WAC5BhB,EAAOe,QAASb,GAAY,GAC3BA,GAAY,OCrCrB,SAASe,IACPrB,IACAE,SAASD,KAAKO,UAAUE,OAAO,gBCJjC,eACQY,EAAUpB,SAASC,cAAc,YACjCoB,EAAiBrB,SAASC,cAAc,qBACxCqB,EAAkBtB,SAASC,cAC/B,sBAEIsB,EAAWvB,SAASC,cAAc,cAClCuB,EAAYxB,SAASC,cAAc,wBAMhCwB,EAAepB,GACjBkB,KAEQ,IAATlB,GACFgB,EAAeJ,SAAU,EACzBS,GAAgB,GAChBH,EAASjB,UAAUC,IAAI,QACvBa,EAAQd,UAAUC,IAAI,UAEtBc,EAAeJ,SAAU,EACzBM,EAASjB,UAAUE,OAAO,QAC1BY,EAAQd,UAAUE,OAAO,mBAIpBkB,EAAgBrB,IACV,IAATA,GACFiB,EAAgBL,SAAU,EAC1BQ,GAAe,GACfD,EAAUlB,UAAUC,IAAI,QACxBa,EAAQd,UAAUC,IAAI,UAEtBe,EAAgBL,SAAU,EAC1BO,EAAUlB,UAAUE,OAAO,QAC3BY,EAAQd,UAAUE,OAAO,SA5BxBe,GACHF,EAAeM,OAAO,GAAGrB,UAAUC,IAAI,QA+BzCc,EAAeH,iBAAiB,SAAS,WACvCO,EAAeJ,EAAeJ,YAGhCK,EAAgBJ,iBAAiB,SAAS,WACxCQ,EAAgBJ,EAAgBL,YAGlCG,EAAQF,iBAAiB,SAAS,WAChCO,GAAe,GACfC,GAAgB,MD9ClBE"}