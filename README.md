# Welcome to Discover three.js!

This is the public repo for the book [Discover three.js](https://discoverthreejs.com/).

Pull requests are welcome, especially for:

* Keeping the book up to date with new three.js releases.
* Errata in the text or code examples.
* Any other bugs, browsers, or CSS issues.

For larger contributions, please get in touch on lewy@discoverthreejs.com before making changes.

## Developer Guide

Here is the process for building and viewing the book.

Prerequisites: Node.js, [Hugo](https://github.com/gohugoio/hugo)

1. Clone or download the repo
2. Download the Hugo _extended_ binary for your system [here](https://github.com/gohugoio/hugo/releases) and place it in the project root. Tested with Hugo V0.82.1.
2. Run `npm install`
4. Run `npm start`
5. Go to `http://localhost:1313/` to view the site. You may need to make sure this port is open in your firewall.

_Note: Hugo can also be installed with package managers such as chocolatey on Windows or Snap on Mac - this hasn't been tested with the current build setup._

## Technical Details

The book is built with Hugo, and this repo follows a fairly typical folder structure for a Hugo project, although the `content/` folder has been renamed to `markdown/`.

### Important folders

* `markdown` - all the words in the book are contained here.
* `assets/src` - JS source code.
* `assets/scss` - SCSS styles for the book are here.
* `static` - all static files such as figures, fonts, models, textures, images, and favicons are here.
* `static/examples` - the code for the IDE examples are here. Each example is a `World` - for examples: `static/examples/worlds/first-steps/first-scene` contains the example for the chapter **First Scene**. See `static/examples/README.md` for more details.
* `/public` - this is where the live site is served from. Everything in here is generated by Hugo and can safely be deleted to clean things up.

## Updating Three.js Version

The three.js folder in node_modules is copied to the `/static/examples/vendor/three` folder.

`./node_modules/three` (original) -> `/static/examples/vendor/three` (copied)

This is required since the IDE needs to load Three.js at runtime. To prevent three.js versions getting out of sync across the project, it's best to have one source of the file in node_modules/ and reference this everywhere. However, the IDE can only access files in static/.

Whenever you update the three.js version, remember to copy the file across to the examples folder!

## Notes

* [Hugo Pipes](https://gohugo.io/hugo-pipes/) are used to build [SCSS](https://gohugo.io/hugo-pipes/scss-sass/) and [JS](https://gohugo.io/hugo-pipes/js/) assets. This means the Hugo extended version must be used.